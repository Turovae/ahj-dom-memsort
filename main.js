!function(){"use strict";var t=[{id:26,title:"Побег из Шоушенка",imdb:9.3,year:1994},{id:25,title:"Крёстный отец",imdb:9.2,year:1972},{id:27,title:"Крёстный отец 2",imdb:9,year:1974},{id:1047,title:"Тёмный рыцарь",imdb:9,year:2008},{id:223,title:"Криминальное чтиво",imdb:8.9,year:1994}];const e=new class{constructor(t,e){this.container=document.querySelector(`.${t}`),this.data=e,this.tbody=null,this.thead=null,this.draw()}draw(){const t=document.createElement("table");this.container.appendChild(t),t.classList.add("table"),this.thead=document.createElement("thead"),t.appendChild(this.thead);const e=document.createElement("tr");this.thead.appendChild(e),e.innerHTML='\n      <th data-type="id">id</th>\n      <th data-type="title">title</th>\n      <th data-type="year">year</th>\n      <th data-type="imdb">imdb</th>\n    ',this.tbody=document.createElement("tbody"),t.appendChild(this.tbody),this.redrawTBody()}redrawTBody(){this.tbody.innerHTML=null;for(let t=0;t<this.data.length;t+=1){const e=document.createElement("tr");this.tbody.appendChild(e);const d=this.data[t];["id","title","year","imdb"].forEach((t=>{e.dataset[t]=d[t]})),e.innerHTML=`\n        <td>${d.id}</td>\n        <td>${d.title}</td>\n        <td>(${d.year})</td>\n        <td>imdb: ${d.imdb.toFixed(2)}</td>\n      `}}sort(t,e){switch([...this.thead.querySelectorAll("th")].forEach((t=>{t.classList.remove("sort-down"),t.classList.remove("sort-up")})),this.data.sort(((e,d)=>Number.isNaN(+e[t])?e[t].localeCompare(d[t]):e[t]-d[t])),e){case"down":this.redrawTBody(),this.thead.querySelector(`[data-type=${t}]`).classList.add("sort-down");break;case"up":this.data.reverse(),this.redrawTBody(),this.thead.querySelector(`[data-type=${t}]`).classList.add("sort-up")}}}("container",t);const d=function*(){const t=["id","title","year","imdb"];let d=0;for(;;)yield e.sort(t[d],"down"),yield e.sort(t[d],"up"),d+=1,d>=t.length&&(d=0)}();setInterval((()=>{d.next()}),2e3)}();